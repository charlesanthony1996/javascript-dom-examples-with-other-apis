<!DOCTYPE html>
<html>
    <head>
        <title>fetch api</title>
    </head>

    <body>
        <div id="posts">
            
        </div>

    </body>

    <script>

        // fetching data from the api

        // fetch("https://jsonplaceholder.typicode.com/posts")
        // .then(response => response.json())
        // .then(data => {
        //     console.log(data)
        // })
        // .catch(error => console.log(error))


        // create a new resource
        // fetch("https://jsonplaceholder.typicode.com/posts",{
        //     method: "POST",
        //     body: JSON.stringify({
        //         title: "My new post",
        //         body: "this is the body of my new post",
        //         userId: 1
        //     }),
        //     headers: {
        //         "Content-type": "application/json; charset=UTF-8"
        //     }
        // })
        // .then(response => response.json())
        // .then(data => {
        //     console.log(data)
        //     // do something with the data
        // })
        // .catch(error => console.error(error))

        // updating a resource
        // fetch("https://jsonplaceholder.typicode.com/posts/1", {
        //     method: "PUT",
        //     body: JSON.stringify({
        //         id: 1,
        //         title: "My updated post",
        //         body: "This is the updated body of my post",
        //         userId: 1
        //     }),
        //     headers: {
        //         "Content-type": "application/json; charset=UTF-8"
        //     }
        // })
        // .then(response => response.json())
        // .then(data => {
        //     console.log(data)
        //     // do something with the data
        // })
        // .catch(error => console.error(error))

        // deleting a resource
        // fetch("https://jsonplaceholder.typicode.com/posts/1", {
        //     method: "DELETE",
        // })
        // .then(response => response.json())
        // .then(data => {
        //     console.log(data)
        //     // do something with the data
        // })
        // .catch(error => console.error(error))


        // adding something to the body from the fetch call
        fetch("https://jsonplaceholder.typicode.com/posts")
        //  {
            // method: "POST",
            // body: JSON.stringify({
            //     title: "Hello title",
            //     body: "This is the body",
            //     userId: 1

            // }),

            // headers: {
            //     "Content-type": "application/json;charset=UTF-8"
            // }
        // })
        .then(response => response.json())
        .then(data => {
            console.log(data)
            // do something with each post
            Object.keys(data).forEach(function(post) {
                // create a new div element
                let newDiv = document.createElement("div")
                newDiv.innerHTML = `<h2>${data[post].title}</h2><p>${data[post].body}</p>`
                // add the new div to the existing div with id posts
                document.getElementById("posts").appendChild(newDiv);
            })
        })
        .catch(error=> console.log(error))



        



    </script>
</html>